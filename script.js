document.addEventListener("DOMContentLoaded", function() {
    // ენის თარგმანები
    const translations = {
        en: {
            title: 'Lionel Messi',
            biography: `Lionel Andrés "Leo" Messi (Spanish pronunciation: [ljoˈnel anˈdɾes ˈmesi]; born 24 June 1987) is an Argentine professional footballer who plays as a forward for and captains both Major League Soccer club Inter Miami and the Argentina national team...`,
            readMore: 'Read More',
            showLess: 'Show Less',
            videoDescription: 'Watch Lionel Messi\'s Skills',
            audioDescription: 'Listen to Messi\'s Interviews',
        },
        ka: {
            title: 'ლიონელ მესი',
            biography: `ლიონელ ანდრეს „ლეო“ მესი (ესპ. Lionel Andres Messi; დ. 24 ივნისი, 1987, როსარიო, სანტა-ფეს პროვინცია, არგენტინა) — არგენტინელი ფეხბურთელი, თავდამსხმელი. საფეხბურთო კლუბ „ინტერ მაიამის“ და არგენტინის ეროვნული ნაკრების კაპიტანი. ესპანეთის პრიმერა დივიზიონის, „ბარსელონასა“ და არგენტინის ეროვნული ნაკრების ყველა დროის საუკეთესო ბომბარდირი. ოქროს ბურთის რვაგზის და ოქროს ბუცის ექვსგზის მფლობელი. 2022 წლის მსოფლიო ჩემპიონი არგენტინის ეროვნული ნაკრების შემადგენლობაში. ყველა დროის ყველაზე ტიტულოვანი ფეხბურთელი.[9][10] საყოველთაოდ აღიარებულია ყველა დროის ერთ-ერთ უდიდეს და მსოფლიოს საუკეთესო თანამედროვე ფეხბურთელად.[11][12][13][14][15][16][17]

                        „ბარსელონას“ აკადემიის აღზრდილი. 17 წლის ასაკში უკვე პირველი გუნდის ღირსებას იცავდა. ესპანეთის ათგზის ჩემპიონი, ესპანეთის თასის შვიდგზის და ესპანეთის სუპერთასის რვაგზის მფლობელი, უეფა-ს ჩემპიონთა ლიგის თასის ოთხგზის, უეფა-ს სუპერთასის სამგზის და ფიფა-ს მსოფლიო საკლუბო ჩემპიონატის თასის სამგზის მფლობელი „ბარსელონას“ შემადგენლობაში. მის საფეხბურთო სტილს დიეგო მარადონას სტილს ადარებენ, რომელიც მესის თავის მემკვიდრედ მიიჩნევდა.

                        მესიმ ფეხბურთის თამაში ოთხი წლის ასაკიდან დაიწყო. „ბარსელონამ“ მისი პოტენციალი მალევე აღმოაჩინა. „ბარსელონამ“ მესის „ნიუელს ოლდ ბოისიდან“ „ბარსელონაში“ გადასვლა და ზრდის ჰორმონების დაავადების მკურნალობა შეთავაზა. 2004–05 წლების სეზონში მან სადებიუტო მატჩი ჩაატარა ბარსელონას რიგებში და რეკორდი დაამყარა, როგორც ყველაზე ახალგაზრდა ფეხბურთელი, რომელმაც გოლი გაიტანა ლა ლიგაში. იმავე სეზონში „ბარსელონამ“ ლა ლიგა და ჩემპიონთა ლიგა მოიგო. მისი პირველი კარგი სეზონი 2006–07 წლების იყო, რომლის ელ კლასიკოშიც ჰეთ-თრიკი შეასრულა და ლა ლიგა 26 თამაშში 14 გოლით დაასრულა. 2008–09 წლების სეზონში მესიმ 38 გოლი გაიტანა და ლომის წილი ჩადო „ბარსელონას“ ტრიპლეტის მოგებაში. მომდევნო, 2009–10 წლების სეზონში მესიმ ყველა შეჯიბრებაში ერთად 47 გოლი გაიტანა, რითაც რონალდოს გაუთანაბრდა ერთ სეზონში გატანილი გოლებით.

                        მესი 2005 წლის ფიფას მსოფლიოს ახალგაზრდული ჩემპიონატის საუკეთესო ბომბარდირი გახდა 6 გოლით, რომელთაგან ორი ფინალში გაიტანა. ამის შემდეგ მალევე, იგი არგენტინის ეროვნულ ნაკრებში დამკვიდრდა. 2006 წლის მსოფლიო ჩემპიონატზე არგენტინელთა მიერ ჩატარებული ხუთი მატჩიდან მან სამ შეხვედრაში მიიღო მონაწილეობა და ერთი გოლი გაიტანა. ამ გოლით მესი ყველაზე ახალგაზრდა არგენტინელი ფეხბურთელი გახდა, ვინც მსოფლიო ჩემპიონატზე გოლის გატანა შეძლო. 2008 წელს, პეკინში მან თავისი პირველი ეროვნული მედალი მოიგო არგენტინის ოლიმპიურ გუნდთან ერთად.

                        2014 წლის მსოფლიო ჩემპიონატზე მესი არგენტინის ნაკრებთან ერთად ვერცხლის პრიზიორი გახდა, თავად მესი კი ტურნირის საუკეთესო ფეხბურთელად აღიარეს. 2021 წლის კოპა ამერიკაზე მესიმ არგენტინის ნაკრებთან ერთად პირველად მოიპოვა ჩემპიონის ტიტული და სამხრეთ ამერიკის თასს დაეუფლა. ამასთან, როგორც 4 გოლისა და 5 საგოლე გადაცემის ავტორს ტურნირის საუკეთესო ბომბარდირის პრიზი გადაეცა, გათამაშების საუკეთესო ფეხბურთელადაც იგი დაასახელეს.`,
            readMore: 'წაიკითხეთ მეტი',
            showLess: 'ნაკლები ტექსტი',
            videoDescription: 'იხილეთ ლიონელ მესის უნარები',
            audioDescription: 'მოუსმინეთ მესის ინტერვიუებს',
        }
    };

    let currentLanguage = 'en'; // Default language is English

    // HTML ელემენტები
    const titleElement = document.querySelector('h1');
    const biographyElement = document.querySelector('.information');
    const videoElement = document.querySelector('video');
    const audioElement = document.querySelector('audio');

    const toggleButton = document.createElement('button');
    toggleButton.textContent = translations[currentLanguage].readMore;
    toggleButton.style.display = 'block';
    toggleButton.style.margin = '20px auto';
    toggleButton.style.padding = '10px 20px';
    toggleButton.style.fontSize = '1rem';
    toggleButton.style.cursor = 'pointer';

    let isExpanded = false;

    // ტექსტის ჩამოტვირთვა
    toggleButton.addEventListener('click', function() {
        if (isExpanded) {
            biographyElement.style.display = 'none';
            toggleButton.textContent = translations[currentLanguage].readMore;
        } else {
            biographyElement.style.display = 'flex';
            toggleButton.textContent = translations[currentLanguage].showLess;
        }
        isExpanded = !isExpanded;
    });

    biographyElement.style.display = 'none';
    const container = document.querySelector('.container');
    container.insertBefore(toggleButton, biographyElement);

    // ენის გადამრთველის ღილაკი
    const languageToggleButton = document.createElement('button');
    languageToggleButton.textContent = 'Switch to Georgian';
    languageToggleButton.style.display = 'block';
    languageToggleButton.style.margin = '20px auto';
    languageToggleButton.style.padding = '10px 20px';
    languageToggleButton.style.fontSize = '1rem';
    languageToggleButton.style.cursor = 'pointer';

    languageToggleButton.addEventListener('click', function() {
        currentLanguage = currentLanguage === 'en' ? 'ka' : 'en';
        languageToggleButton.textContent = currentLanguage === 'en' ? 'Switch to Georgian' : 'Switch to English';
        
        // ენის მიხედვით ტექსტის განახლება
        titleElement.textContent = translations[currentLanguage].title;
        biographyElement.innerHTML = translations[currentLanguage].biography;
        videoElement.setAttribute('aria-label', translations[currentLanguage].videoDescription);
        audioElement.setAttribute('aria-label', translations[currentLanguage].audioDescription);
        
        // განახლება ღილაკის ტექსტი
        toggleButton.textContent = isExpanded 
            ? translations[currentLanguage].showLess 
            : translations[currentLanguage].readMore;
    });

    container.insertBefore(languageToggleButton, toggleButton);
});
